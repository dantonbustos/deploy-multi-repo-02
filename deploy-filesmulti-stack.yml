name: Homologa Archivos MÃ³dulos Drupal
on:
  push:
    branches:
      - main
jobs:
  homologa-archivos-drupal:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: jitterbit/get-changed-files@v1
      id: archivos_modificados
      with:
        format: space-delimited
        token: ${{ secrets.TOKEN_GITHUB_01 }}
    - name: Printing
      run: |
        echo "All:"
        echo "${{ steps.archivos_modificados.outputs.all }}"
        echo "Added:"
        echo "${{ steps.archivos_modificados.outputs.added }}"
        echo "Removed:"
        echo "${{ steps.archivos_modificados.outputs.removed }}"
        echo "Renamed:"
        echo "${{ steps.archivos_modificados.outputs.renamed }}"
        echo "Modified:"
        echo "${{ steps.archivos_modificados.outputs.modified }}"
        echo "Added+Modified:"

    - name: Pushes test file
      uses: antoineVIVIES/copy_file_to_another_repo_action@main
      env:
        API_TOKEN_GITHUB: ${{ secrets.TOKEN_GITHUB_01 }}
      with:
        source_files: ${{ steps.archivos_modificados.outputs.all }}
        destination_repo: 'dantonbustos/deploy-multi-repo-02'
        destination_folder: ''
        user_email: 'dantonbustos@me.com'
        user_name: 'dantonbustos'
        commit_message: 'A custom message for the commit'
